<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pannellum 360-Degree Carousel</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <!-- Pannellum CSS -->
    <link rel="stylesheet" href="https://cdn.pannellum.org/2.5/pannellum.css"/>

    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden; /* Prevents scrolling when the image fills the screen */
        }

        .carousel-inner, .carousel-item {
            height: 100vh; /* 100% of the viewport height */
        }
        /* Increase the z-index of the Pannellum viewer */
        .carousel-item > div {
            z-index: 10;
        }
        .carousel-control-prev, .carousel-control-next {
        width: 5%;
        }
        /* Increase the size of the Pannellum buttons */
        .pannellum-button {
            font-size: 24px; /* Adjust this value to your preference */
            width: 40px;    /* Adjust this value based on the font size */
            height: 40px;   /* Adjust this value based on the font size */
        }
        
        /* Adjust the position of the zoom-in button */
        .pannellum-zoom-in {
            right: 50px;    /* Adjust this value based on the button size */
        }
        
        /* Adjust the position of the zoom-out button */
        .pannellum-zoom-out {
            right: 10px;    /* Adjust this value based on the button size */
        }
    </style>
</head>
<body>

<div id="panoramaCarousel" class="carousel slide" data-ride="carousel" data-interval="false" data-touch="false">
    <div class="carousel-inner">
        <!-- Image 1 -->
        <div class="carousel-item active">
            <div id="panorama1" style="width: 100%; height: 100vh;"></div>
        </div>
        <!-- Image 2 -->
        <div class="carousel-item">
            <div id="panorama2" style="width: 100%; height: 100vh;"></div>
        </div>
        <!-- Image 3 -->
        <div class="carousel-item">
            <div id="panorama3" style="width: 100%; height: 100vh;"></div>
        </div>
        <!-- Image 4 -->
        <div class="carousel-item">
            <div id="panorama4" style="width: 100%; height: 100vh;"></div>
        </div>
        <!-- Image 5 -->
        <div class="carousel-item">
            <div id="panorama5" style="width: 100%; height: 100vh;"></div>
        </div>
        <!-- Image 6 -->
        <div class="carousel-item">
            <div id="panorama6" style="width: 100%; height: 100vh;"></div>
        </div>
        <!-- Image 7 -->
        <div class="carousel-item">
            <div id="panorama7" style="width: 100%; height: 100vh;"></div>
        </div>
    </div>
    <!-- Carousel Controls -->
    <a class="carousel-control-prev" href="#panoramaCarousel" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#panoramaCarousel" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>

<!-- jQuery and Bootstrap JS -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<!-- Pannellum JS -->
<script type="text/javascript" src="https://cdn.pannellum.org/2.5/pannellum.js"></script>

<script>
    // Initialize the first viewer immediately
    pannellum.viewer('panorama1', {
        "type": "equirectangular",
        "panorama": "dji_export_1640981669414.jpg",
        "autoLoad": true
    });

    // Use Bootstrap's carousel event to initialize Pannellum viewers when the slide becomes active
    $('#panoramaCarousel').on('slid.bs.carousel', function (e) {
        var activeDivId = $(e.relatedTarget).find('div').attr('id');
        switch (activeDivId) {
            case 'panorama2':
                pannellum.viewer('panorama2', {
                    "type": "equirectangular",
                    "panorama": "dji_export_1640981672128.jpg",
                    "autoLoad": true
                });
                break;
            case 'panorama3':
                pannellum.viewer('panorama3', {
                    "type": "equirectangular",
                    "panorama": "dji_export_1640981674834.jpg",
                    "autoLoad": true
                });
                break;
            case 'panorama4':
                pannellum.viewer('panorama4', {
                    "type": "equirectangular",
                    "panorama": "dji_export_1640981676987.jpg",
                    "autoLoad": true
                });
                break;
            case 'panorama5':
                pannellum.viewer('panorama5', {
                    "type": "equirectangular",
                    "panorama": "dji_export_1640981681431.jpg",
                    "autoLoad": true
                });
                break;
            case 'panorama6':
                pannellum.viewer('panorama6', {
                    "type": "equirectangular",
                    "panorama": "dji_export_1640981684006.jpg",
                    "autoLoad": true
                });
                break;
            case 'panorama7':
                pannellum.viewer('panorama7', {
                    "type": "equirectangular",
                    "panorama": "dji_export_1640981688164.jpg",
                    "autoLoad": true
                });
                break;
        }
    });
</script>

</body>
</html>
